<html>
<style>
#div1
{
position: absolute;
top:-100px;
left:-100px;
height: 150px;
width: 150px;

-webkit-transform: rotateZ(30deg)
perspective:150;
-webkit-perspective:140; /* Safari and Chrome */
}

#div2
{
position: absolute;

background-color: red;
transform: rotateX(45deg);
-webkit-transform: rotateX(20deg); /* Safari and Chrome */

}
</style>
<script src='mohit.js'></script>
<body onkeypress='stop(event)'>
<div style='position:absolute;width:98%;height:98%;overflow:hidden'>
<img id='back' src='bak2.png' style='position:absolute;width:100%;height:100%'></img></div>
<audio src='gold.mp3' id='coin_music'></audio>
</body>
<div id='main' style='position:absolute;width:98%;height:98%;overflow:hidden;'>
<div id="div1">
  <img style='background:url("back7.png");width:1400%;height:400%;' id="div2"></img>
</div>

</div>
<div id='zombie' style='background:yellow;height:20%;width:10%;border-radius:50%;position:absolute;top:60%;left:50%;'><div>
<script>
var i=0;var pause=0;var count;length=0;var a=[];
var anime=window.requestAnimationFrame || window.mozRequestAnimationFrame ||
                             window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
							 //var large=document.getElementById('box').style;
							 //var h=parseFloat(large.height); var w=parseFloat(large.width);
							 //var x=parseFloat(large.top)+h/2;var y=parseFloat(large.left)+ w/2;
							 
							 var c=2;var we=0;var expand;var crea=0;var tor=20; var tor1=100;var xor=0;var animat=0;var count_stone=0;var creat=0;var xqw=0;var trw=10;
							
 function update()
{


xqw=xqw+5;trw+=0.1;
document.getElementById('div2').style.backgroundPosition='0px '+xqw+'px';
if(trw<70)
document.getElementById('div2').style.webkitTransform='rotateX('+trw+'deg)';

var v=document.getElementById('back').style;
v.width=100+we+"%";
v.height=100+we+"%";
v.left=-we/2+"%";
v.top=0+"%";
if(we<0.2)
expand=1;
if(we>50)
expand=0;
if(expand==1)
we+=0.5;
else
we-=0.6;
if(i%10==0)
{
create_tree();
}
if(i%50==0)
{
if(crea==1)
crea=0;
else
crea=1;
}
if(crea==1)
{
if(i%3==0)
create_coin();
}

if(i%200==0)
{
if(creat==1)
creat=0;
else
creat=1;
}
if(creat==0)
{
if(i%40==0)
create_stone();
}

for(c=0;c<length;c++)
{
a[c][7]=a[c][3]-a[c][4]/a[c][8];
var xe=document.getElementById('tree'+c).style;
var col=a[c][4]/a[c][3];
a[c][2]+=col*a[c][6];  //zooming about the center
a[c][1]+=a[c][6];
xe.width=a[c][1]+"%";
xe.height=a[c][2]+"%";
xe.left=a[c][4]-a[c][1]/2+"%";
xe.top=a[c][3]-a[c][2]/2+"%";
//end of zooming
a[c][3]+=a[c][5]; //shifting the center
a[c][4]=(a[c][3]-a[c][7])*a[c][8];
a[c][5]+=a[c][9];
if(a[c][0]==1)
{ 

if(a[c][3]>65&&a[c][3]<80&&((a[c][4]-cpc)<11)&&((a[c][4]-cpc)>-1)&&animat==0)
{
var sound=document.getElementById('coin_music');
sound.currentTime=0;
sound.play();
a[c][5]=0-2*a[c][5];
a[c][8]=0.3;
a[c][9]=0.2;
} 
}
}
i++;
if(pause==0)
{
anime(update);
}
}
var cpc=50;
function stop(k)
{
/*if(k.which==97||k.keycode==97)
{
if(pause==0)
pause=1;
else
pause=0;
anime(update);
}
else
{  */
if((k.which==97||k.keycode==97)&&cpc>30)
{
cpc-=3;
document.getElementById('zombie').style.left=cpc+'%';
}
else if((k.which==100||k.keycode==100)&&cpc<70)
{
cpc+=3;
document.getElementById('zombie').style.left=cpc+'%';
}
else
{
if(animat==0)
{
animat=1;
$('#zombie').animate({top:'20%'},500).animate({top:'60%'},700,reverse_animate);
}
}

}
function reverse_animate()
{
animat=0;
}
anime(update);var airr=[0,0,0,0,0,0,0,0,0];var count_coin=0;
function create_coin()
{
airr[count_coin++]=length;
if(count_coin<10)
{
var x=document.createElement('img');
x.id='tree'+length;
x.src='coin.gif';
var y=x.style;
y.height='2%';y.width='1%';y.position='absolute';y.top='10%';y.left='30%';
document.getElementById('main').appendChild(x);
var xq=Math.floor(Math.random()*3);
length=a.push([1,2,2,10,52,0.5,0.1,0,-0.1,0.5,1]);
}
else
{
a[airr[(count_coin++%9)]]=[1,2,2,10,52,0.5,0.1,0,-0.1,0.5,1];
}
//else if(xq%3==3)
//length=a.push([0,2,2,10,51,0.5,0.1,0,-0.03,0.3,1]);
//else 
//length=a.push([0,2,2,10,49,0.5,0.1,0,0.2,0.3,1]);
}
var tree_count=0;var aitt=[0,0,0,0,0,0,0,0,0,0,0,0];
function create_tree()
{ 
if(tree_count<12)
{
aitt[tree_count++]=length;
var x=document.createElement('img');
x.id='tree'+length;
x.src='fences.png';
var y=x.style;
y.height='2%';y.width='1%';y.position='absolute';y.top='10%';y.left='55%';
document.getElementById('main').appendChild(x); 
length=a.push([0,10,20,10,48,0.3,0.6,0,-0.3,0.05,1]);
aitt[tree_count++]=length;
var x=document.createElement('img');
x.id='tree'+length;
x.src='fences1.png';
var y=x.style;
y.height='2%';y.width='1%';y.position='absolute';y.top='10%';y.left='55%';
document.getElementById('main').appendChild(x); 
length=a.push([0,10,20,10,60,0.3,0.6,0,0.4,0.05,1]);
}
else
{
a[aitt[(tree_count++%12)]]=[0,10,20,10,48,0.3,0.6,0,-0.3,0.05,1];
a[aitt[(tree_count++%12)]]=[0,10,20,10,60,0.3,0.6,0,0.4,0.05,1];
}
}
var airt=[0,0,0,0];
function create_stone()
{
airt[count_stone++]=length;
if(count_stone<4)
{
var x=document.createElement('img');
x.id='tree'+length;
x.src='stone.jpg';
var y=x.style;
y.height='2%';y.width='1%';y.position='absolute';y.top='10%';y.left='30%';
document.getElementById('main').appendChild(x);
var xq=Math.floor(Math.random()*3);

length=a.push([2,10,10,10,50,0.1,0.2,0,-0.01,0.1,0]);
}
else
{
a[airt[(count_stone++%9)]]=[2,10,10,10,50,0.01,0.2,0,0.01,0.1,0];
}
//else if(xq%3==3)
//length=a.push([0,2,2,10,51,0.5,0.1,0,-0.03,0.3,1]);
//else 
//length=a.push([0,2,2,10,49,0.5,0.1,0,0.2,0.3,1]);
}
</script>